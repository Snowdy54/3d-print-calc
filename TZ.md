# Техническое задание на проект: "3D-Print Analytics & Cost"

## 1. Название и концепция
**Название:** 3D-Print Analytics & Cost  
**Концепция:** Сервис для предиктивного расчета себестоимости и анализа эффективности 3D-печати. Проблема заключается в том, что любители 3D-печати часто учитывают только вес пластика, забывая о стоимости электроэнергии и амортизации (износе) оборудования. Сервис позволяет оцифровать мастерскую и считать реальную прибыль.

## 2. Целевая аудитория и роли
Сервис предназначен для владельцев домашних 3D-принтеров и малых студий прототипирования.
- **Гость:** может просматривать ленту публичных расчетов (без деталей) и страницу "О проекте".
- **Авторизованный пользователь (Мастер):** имеет доступ к личному кабинету, где может управлять своими принтерами, запасами пластика и создавать детальные расчеты заказов.
- **Администратор:** управление справочниками материалов и модерация пользователей через панель управления Django.

## 3. Схема данных (Сущности)
В проекте реализованы 3 связанные кастомные модели:
1. **Printer (Принтер):**
   - `name` (CharField) — название модели.
   - `power_consumption` (IntegerField) — потребляемая мощность в Ваттах.
   - `purchase_price` (DecimalField) — цена покупки для расчета амортизации.
   - `owner` (ForeignKey) — привязка к пользователю.
2. **Filament (Пластик):**
   - `name` (CharField) — марка и тип пластика (например, "BestFilament PLA").
   - `price_per_spool` (DecimalField) — цена за катушку.
   - `weight_g` (IntegerField) — вес катушки в граммах.
   - `currency` (CharField) — валюта покупки (USD/RUB) для интеграции с API.
3. **PrintOrder (Заказ/Расчет):**
   - `printer` (ForeignKey) — используемое оборудование.
   - `filament` (ForeignKey) — используемый материал.
   - `model_weight_g` (IntegerField) — вес итоговой детали.
   - `print_time_hours` (FloatField) — время печати.
   - `total_cost` (DecimalField) — рассчитанная себестоимость (вычисляемое поле).

## 4. Основные сценарии пользователя (User Stories)
1. **Регистрация оборудования:** Пользователь добавляет свой принтер, указывая его мощность и стоимость, чтобы система могла считать износ за каждый час работы.
2. **Учет материалов:** Пользователь заносит данные о купленном пластике. Если цена в валюте, система предложит конвертацию по текущему курсу.
3. **Создание расчета заказа:** Пользователь вводит параметры из слайсера (вес детали и время). Система по формулам вычисляет долю пластика, энергии и амортизации в общей цене.
4. **Просмотр аналитики:** На главной странице личного кабинета пользователь видит график распределения расходов и среднюю стоимость часа работы своей мастерской.

## 5. Технический стек и интеграции
- **Backend:** Python 3.x, Django 4.x.
- **Внешнее API:** *ExchangeRate-API* (или аналогичное) через библиотеку `requests` для получения актуальных курсов валют при расчете стоимости материалов.
- **Аналитика и визуализация:** Библиотека **Plotly** или **Matplotlib** для генерации круговых диаграмм состава себестоимости.
- **Frontend:** Bootstrap 5 для адаптивного интерфейса.
